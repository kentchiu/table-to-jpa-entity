package {{topPackage}}.{{moduleName}}.domain;

import {{topPackage}}.base.domain.BaseDomains;
import com.google.common.collect.Lists;
import com.kentchiu.spring.base.domain.CsvExporter;
import org.springframework.data.domain.Page;
import org.springframework.data.domain.PageImpl;

import java.io.IOException;
import java.util.List;

public class {{DomainPlural}} {

    private {{DomainPlural}}() {
    }


    public static List<{{Domain}}> all() {
        try {
            return CsvExporter.csvToDomains({{Domain}}.class, BaseDomains.getCsvHome().resolve("{{table.name}}.csv"));
        } catch (IOException e) {
            e.printStackTrace();
        }
        return Lists.newArrayList();
    }


    public static Page<{{Domain}}> page() {
        return new PageImpl<>(all());
    }

}
